<html>
<head>
	<script src="../lib/Class.js"></script>	
	<script src="http://code.jquery.com/jquery-1.8.0.js"></script>
	<script src="../lib/gooey-browser.js"></script>

	<script>
		var LoginView = View.extend({
			sel: function(parent) {
				return $(parent).find("#loginView");
			},
			init: function() {
				this._super();
				this.model = new Login();

				this.addView(new UsernameFieldView(this.model.put("username")));
				this.addView(new PasswordFieldView(this.model.put("password")));

				this.model.on("change", function() {
					console.log("wow wow whee wah");
				});
			},
			renderTo: function(el) {
				el.html("<fieldset id=\"usernameField\"></fieldset><fieldset id=\"passwordField\"></fieldset>");
				return el;
			},
			events: function() {
				// add a login button
			}
		});

		var TextFieldView = View.extend({
			init: function(model) {
				this._super();
				this.model = model;
			},
			renderTo: function(el) {
				el.html("<input type='text' placeholder='Hello'/>");
				return el;
			},
			events: function(el) {
				var self = this;
				el.find("input").on("change", function(event) {
					self.model.set($(event.target).val())
				})
			}
		});

		var UsernameFieldView = TextFieldView.extend({
			sel: function(parent) {
				 return $(parent).find("#usernameField");
			}
		});

		var PasswordFieldView = TextFieldView.extend({
			sel: function(parent) {
				 return $(parent).find("#passwordField");
			}
		});

		var Login = Model.extend({
		});


		window.onload = function() {
			var loginView = new LoginView();
			loginView.render();
		}
	</script>
</head>
<body>

<div id="loginView">
	
</div>

</body>
</html>
